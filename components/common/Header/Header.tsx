import { useRef, useState } from 'react';
import Link from 'next/link';
import { useCartContext } from 'context/cart';
import useMediaQuery from 'hook/useMediaQuery';
import dynamic from 'next/dynamic';
import { useUI } from 'context/ui';

const Autocomplete = dynamic(() => import('components/filter/Autocomplete'), {
  ssr: false
});

export default function Header() {
  const dialog = useRef(null);
  const [toggle, setToggle] = useState(true);
  const { total_unique_items } = useCartContext();
  const { displaySearch, openSearch, closeSearch } = useUI();
  const matches = useMediaQuery(0, dialog, displaySearch, openSearch);

  return (
    <header
      role="banner"
      className="py-3 h-fit w-full z-10 flex items-center justify-center shadow-md relative"
    >
      <div className="container">
        <div className="flex flex-col">
          <div className="flex items-center	justify-between gap-2">
            <Link href="/">
              <a aria-label="Plant Life">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width={130}
                  height={50}
                  viewBox="0 0 53 14"
                  className="fill-[#065F46]"
                  focusable={false}
                  aria-hidden={true}
                >
                  <path
                    d="M4.94 13.72C4.86 13.72 4.80667 13.7 4.78 13.66C3.87333 12.5933 3.42 11.0733 3.42 9.1C3.42 8.79333 3.42667 8.48667 3.44 8.18C3.46667 7.87333 3.50667 7.55333 3.56 7.22C3.8 5.18 4.61333 3.44667 6 2.02C4.68 2.07333 3.63333 2.32 2.86 2.76C1.82 3.32 1.3 4.13333 1.3 5.2C1.3 5.53333 1.56 5.92 2.08 6.36C2.10667 6.38667 2.12 6.41333 2.12 6.44C2.12 6.50667 2.08667 6.57333 2.02 6.64C1.94 6.72 1.87333 6.76 1.82 6.76C1.79333 6.76 1.76667 6.74667 1.74 6.72C1.12667 6.22667 0.82 5.69333 0.82 5.12C0.82 4.01333 1.4 3.14 2.56 2.5C3.16 2.18 3.78667 1.96 4.44 1.84C5.09333 1.72 5.76 1.65333 6.44 1.64C6.64 1.48 6.84667 1.34 7.06 1.22C7.27333 1.08667 7.49333 0.973333 7.72 0.879999L7.8 0.859999C7.81333 0.859999 7.83333 0.859999 7.86 0.859999C7.88667 0.859999 7.91333 0.866666 7.94 0.879999C8.04667 0.879999 8.1 0.886666 8.1 0.9C8.1 0.926666 8.06667 0.959999 8 1C7.77333 1.14667 7.50667 1.36667 7.2 1.66C8.70667 1.76667 9.80667 2.13333 10.5 2.76C11.1267 3.30667 11.44 4 11.44 4.84C11.44 5.89333 11.0133 6.84 10.16 7.68C9.25333 8.58667 8.16667 9.04 6.9 9.04C6.38 9.04 5.96667 8.88 5.66 8.56C5.38 8.28 5.24 7.93333 5.24 7.52C5.24 7.14667 5.36 6.83333 5.6 6.58C5.86667 6.3 6.23333 6.16 6.7 6.16C6.88667 6.16 7.04667 6.24667 7.18 6.42C7.31333 6.59333 7.38 6.77333 7.38 6.96C7.38 7.04 7.37333 7.08667 7.36 7.1C7.33333 7.12667 7.31333 7.14 7.3 7.14C7.28667 7.14 7.26667 7.10667 7.24 7.04C7.21333 6.89333 7.14 6.76667 7.02 6.66C6.92667 6.52667 6.82 6.46 6.7 6.46C6.35333 6.46 6.06667 6.58 5.84 6.82C5.65333 7.04667 5.56 7.3 5.56 7.58C5.56 7.9 5.66667 8.16667 5.88 8.38C6.14667 8.62 6.48667 8.74 6.9 8.74C7.98 8.74 8.88 8.38 9.6 7.66C10.2533 7.00667 10.58 6.22 10.58 5.3C10.58 4.47333 10.2867 3.76667 9.7 3.18C9.02 2.51333 8.06 2.13333 6.82 2.04C5.36667 3.61333 4.51333 5.35333 4.26 7.26C4.18 7.83333 4.14 8.38667 4.14 8.92C4.14 10.0133 4.28667 10.98 4.58 11.82C4.79333 12.5 5.06 13.0333 5.38 13.42L5.4 13.46V13.48C5.4 13.5467 5.35333 13.6 5.26 13.64C5.16667 13.6933 5.06 13.72 4.94 13.72ZM12.3578 11.98C12.0245 11.98 11.7445 11.8733 11.5178 11.66C10.9978 11.22 10.7378 10.3533 10.7378 9.06C10.7378 8.62 10.7778 8.17333 10.8578 7.72C10.9378 7.26667 11.0445 6.81333 11.1778 6.36C11.4711 5.36 11.8911 4.48667 12.4378 3.74C12.7845 3.26 13.1711 3.02 13.5978 3.02C13.8911 3.02 14.1378 3.14667 14.3378 3.4C14.5378 3.68 14.6378 4.06 14.6378 4.54V4.8C14.6378 4.85333 14.6311 4.90667 14.6178 4.96C14.6178 5 14.6111 5.04667 14.5978 5.1C14.3178 6.99333 13.2645 8.65333 11.4378 10.08C11.5578 11.0667 11.8978 11.56 12.4578 11.56C12.7645 11.56 13.1311 11.4067 13.5578 11.1C14.0245 10.78 14.4911 10.2467 14.9578 9.5C14.9978 9.44667 15.0245 9.42 15.0378 9.42C15.0778 9.42 15.0978 9.46667 15.0978 9.56C15.0978 9.6 15.0845 9.64667 15.0578 9.7C14.5378 10.7 13.9245 11.38 13.2178 11.74C12.9245 11.9 12.6378 11.98 12.3578 11.98ZM11.3978 9.72C12.9578 8.22667 13.8645 6.68 14.1178 5.08C14.1445 4.92 14.1645 4.77333 14.1778 4.64C14.1911 4.49333 14.1978 4.36 14.1978 4.24C14.1978 3.97333 14.1645 3.76 14.0978 3.6C14.0311 3.42667 13.9111 3.34 13.7378 3.34C13.4045 3.34 13.0445 3.66 12.6578 4.3C12.4311 4.64667 12.2378 5.02667 12.0778 5.44C11.9178 5.84 11.7778 6.28 11.6578 6.76C11.4845 7.44 11.3978 8.26 11.3978 9.22V9.72ZM15.9073 12.32C15.334 12.32 14.9473 11.96 14.7473 11.24C14.7207 11.1067 14.694 10.98 14.6673 10.86C14.654 10.7267 14.6473 10.5933 14.6473 10.46C14.6473 9.92667 14.7607 9.41333 14.9873 8.92C15.214 8.41333 15.534 8 15.9473 7.68C16.3607 7.34667 16.834 7.18 17.3673 7.18H17.5273C17.554 7.19333 17.6007 7.2 17.6673 7.2C18.254 7.30667 18.5473 7.63333 18.5473 8.18C18.5473 8.28667 18.5007 8.34 18.4073 8.34C18.3007 8.34 18.2473 8.28667 18.2473 8.18C18.2207 8.03333 18.1473 7.93333 18.0273 7.88C17.9207 7.82667 17.774 7.8 17.5873 7.8C17.5073 7.8 17.454 7.80667 17.4273 7.82C16.974 7.88667 16.594 8.08667 16.2873 8.42C15.9807 8.75333 15.754 9.15333 15.6073 9.62C15.4607 10.0733 15.3873 10.52 15.3873 10.96C15.3873 11.1867 15.4407 11.42 15.5473 11.66C15.654 11.9 15.8473 12.02 16.1273 12.02C16.314 12.02 16.494 11.9467 16.6673 11.8C16.8407 11.64 16.9873 11.4467 17.1073 11.22C17.254 10.94 17.354 10.6333 17.4073 10.3C17.4607 9.96667 17.4873 9.56667 17.4873 9.1C17.4873 8.92667 17.594 8.84 17.8073 8.84C17.9273 8.84 18.0407 8.87333 18.1473 8.94C18.2407 9.00667 18.294 9.08667 18.3073 9.18C18.3073 9.24667 18.3073 9.32 18.3073 9.4C18.3073 9.46667 18.3007 9.53333 18.2873 9.6C18.274 9.66667 18.2673 9.74 18.2673 9.82C18.2673 9.9 18.2673 9.97333 18.2673 10.04C18.2673 10.4933 18.314 10.84 18.4073 11.08C18.4873 11.2933 18.614 11.4 18.7873 11.4C18.9207 11.4 19.0473 11.34 19.1673 11.22C19.2607 11.1267 19.3807 10.98 19.5273 10.78C19.674 10.58 19.814 10.3733 19.9473 10.16C20.0807 9.94667 20.174 9.78 20.2273 9.66C20.2673 9.59333 20.3073 9.56 20.3473 9.56C20.374 9.56 20.394 9.58 20.4073 9.62C20.434 9.64667 20.434 9.68667 20.4073 9.74C20.2607 10.06 20.094 10.3867 19.9073 10.72C19.734 11.04 19.5273 11.3267 19.2873 11.58C19.194 11.66 19.094 11.7333 18.9873 11.8C18.8807 11.8533 18.754 11.88 18.6073 11.88C18.4873 11.88 18.3673 11.86 18.2473 11.82C18.1407 11.7667 18.0607 11.68 18.0073 11.56C17.914 11.3867 17.8473 11.1933 17.8073 10.98C17.7673 10.7667 17.754 10.56 17.7673 10.36C17.7407 10.2933 17.7207 10.26 17.7073 10.26C17.6807 10.26 17.6673 10.2867 17.6673 10.34C17.6007 10.9533 17.3873 11.44 17.0273 11.8C16.6807 12.1467 16.3073 12.32 15.9073 12.32ZM20.0984 11.96C19.8718 11.96 19.7584 11.8133 19.7584 11.52C19.7584 11.44 19.7651 11.3933 19.7784 11.38L19.9584 10.44C19.9851 10.2933 20.0118 10.14 20.0384 9.98C20.0651 9.82 20.0918 9.66667 20.1184 9.52C20.1851 9.17333 20.2451 8.84 20.2984 8.52C20.3518 8.2 20.3784 7.9 20.3784 7.62V7.58C20.3784 7.48667 20.4051 7.41333 20.4584 7.36C20.5118 7.30667 20.5718 7.28 20.6384 7.28C20.7451 7.28 20.8051 7.34667 20.8184 7.48C20.8318 7.54667 20.8384 7.62 20.8384 7.7C20.8518 7.76667 20.8584 7.84667 20.8584 7.94C20.8584 8.03333 20.8518 8.14667 20.8384 8.28C20.8384 8.4 20.8318 8.55333 20.8184 8.74C20.9784 8.35333 21.1184 8.06 21.2384 7.86C21.3718 7.66 21.5184 7.48 21.6784 7.32C22.0651 6.89333 22.4518 6.68 22.8384 6.68C23.2384 6.70667 23.5251 6.86667 23.6984 7.16C23.8451 7.38667 23.9184 7.66 23.9184 7.98C23.9184 8.40667 23.7184 8.88 23.3184 9.4C23.0784 9.72 22.9051 10 22.7984 10.24C22.6918 10.48 22.6384 10.6733 22.6384 10.82C22.6384 11.18 22.7384 11.42 22.9384 11.54C22.9918 11.5533 23.0384 11.5733 23.0784 11.6C23.1184 11.6133 23.1651 11.62 23.2184 11.62C23.4051 11.62 23.5851 11.56 23.7584 11.44C23.9451 11.3067 24.1051 11.1733 24.2384 11.04C24.3851 10.8933 24.5451 10.7067 24.7184 10.48C24.9051 10.24 25.0718 9.95333 25.2184 9.62C25.2584 9.54 25.2984 9.5 25.3384 9.5C25.4184 9.5 25.4384 9.57333 25.3984 9.72C25.2518 10.0667 25.0784 10.3733 24.8784 10.64C24.6918 10.9067 24.5184 11.1267 24.3584 11.3C24.2118 11.46 24.0384 11.6067 23.8384 11.74C23.6384 11.86 23.4051 11.92 23.1384 11.92C22.7918 11.92 22.5051 11.82 22.2784 11.62C22.0651 11.42 21.9584 11.1333 21.9584 10.76C21.9584 10.4133 22.0318 10.0867 22.1784 9.78C22.3384 9.47333 22.5318 9.19333 22.7584 8.94C23.1851 8.47333 23.3984 8.04667 23.3984 7.66C23.3984 7.26 23.2118 7.06 22.8384 7.06C22.5718 7.06 22.3118 7.16667 22.0584 7.38C21.8051 7.59333 21.5518 7.89333 21.2984 8.28C21.1518 8.52 21.0318 8.75333 20.9384 8.98C20.8451 9.19333 20.7718 9.4 20.7184 9.6L20.5984 10.9C20.5318 11.5133 20.4384 11.8467 20.3184 11.9C20.2384 11.94 20.1651 11.96 20.0984 11.96ZM26.9989 12.44C26.5856 12.44 26.2056 12.2867 25.8589 11.98C25.3256 11.5 25.0589 10.7467 25.0589 9.72C25.0589 9.41333 25.0922 9.04667 25.1589 8.62C25.2256 8.19333 25.3322 7.68667 25.4789 7.1C25.1589 7.1 24.8389 7.08 24.5189 7.04C24.2122 6.98667 23.9389 6.89333 23.6989 6.76C23.5389 6.65333 23.4589 6.52667 23.4589 6.38C23.4589 6.20667 23.5389 6.12 23.6989 6.12C23.8056 6.12 23.9056 6.16 23.9989 6.24C24.4122 6.58667 24.9256 6.78 25.5389 6.82C25.5656 6.72667 25.6722 6.43333 25.8589 5.94C26.0456 5.44667 26.3256 4.75333 26.6989 3.86C26.7389 3.75333 26.8122 3.7 26.9189 3.7C27.0256 3.7 27.1256 3.74 27.2189 3.82C27.3122 3.91333 27.3589 4 27.3589 4.08L26.9589 5.1C26.6522 5.86 26.4522 6.41333 26.3589 6.76L26.9389 6.7C27.0189 6.68667 27.1056 6.68 27.1989 6.68C27.3056 6.66667 27.4122 6.64667 27.5189 6.62C27.6656 6.56667 27.7789 6.52667 27.8589 6.5C27.9522 6.46 28.0189 6.43333 28.0589 6.42C28.1122 6.39333 28.1589 6.38 28.1989 6.38C28.2656 6.38 28.2989 6.4 28.2989 6.44C28.2989 6.46667 28.2789 6.5 28.2389 6.54C27.9589 6.68667 27.6589 6.81333 27.3389 6.92C27.0189 7.01333 26.6656 7.07333 26.2789 7.1C26.2256 7.24667 26.1656 7.46667 26.0989 7.76C26.0322 8.05333 25.9722 8.36667 25.9189 8.7C25.8656 9.03333 25.8389 9.34 25.8389 9.62C25.8389 11.1667 26.2922 11.94 27.1989 11.94C27.4389 11.94 27.6389 11.86 27.7989 11.7C27.9322 11.5667 27.9989 11.4 27.9989 11.2V11.02C27.9989 10.9133 28.0056 10.8533 28.0189 10.84C28.0322 10.8267 28.0522 10.82 28.0789 10.82C28.1322 10.82 28.1656 10.8467 28.1789 10.9C28.2056 10.98 28.2189 11.08 28.2189 11.2C28.2189 11.5867 28.0989 11.8933 27.8589 12.12C27.6456 12.3333 27.3589 12.44 26.9989 12.44ZM39.3177 12.78C39.291 12.78 39.2577 12.78 39.2177 12.78C39.1777 12.78 39.1443 12.7733 39.1177 12.76C38.5577 12.6667 38.031 12.5467 37.5377 12.4C37.0443 12.2533 36.591 12.06 36.1777 11.82C35.8443 11.6333 35.5177 11.44 35.1977 11.24C34.8777 11.0267 34.5443 10.8067 34.1977 10.58L33.7977 11.18C33.5843 11.5 33.2643 11.7733 32.8377 12C32.4643 12.2133 32.0843 12.32 31.6977 12.32C30.9377 12.32 30.5577 11.88 30.5577 11C30.5577 10.72 30.5977 10.46 30.6777 10.22C30.7577 9.98 30.891 9.75333 31.0777 9.54C31.4243 9.15333 31.8243 8.96 32.2777 8.96C32.3443 8.96 32.3977 8.96667 32.4377 8.98C32.491 8.98 32.551 8.98667 32.6177 9C32.8843 9.05333 33.151 9.14 33.4177 9.26C33.6843 9.38 33.971 9.53333 34.2777 9.72C34.4377 9.34667 34.591 8.94 34.7377 8.5C34.8843 8.06 35.031 7.56 35.1777 7C33.751 6.92 32.731 6.33333 32.1177 5.24C32.091 5.21333 32.0777 5.18667 32.0777 5.16C32.0777 5.06667 32.131 5.02 32.2377 5.02C32.3043 5.02 32.3443 5.04667 32.3577 5.1C32.9443 6.1 33.911 6.63333 35.2577 6.7L35.3777 6.28C35.671 5.28 35.9577 4.42667 36.2377 3.72C36.531 3.01333 36.831 2.45333 37.1377 2.04C37.5777 1.48 38.0843 1.2 38.6577 1.2C39.0043 1.2 39.2843 1.32 39.4977 1.56C39.6043 1.69333 39.691 1.85333 39.7577 2.04C39.8243 2.21333 39.8577 2.43333 39.8577 2.7C39.8577 3.67333 39.4377 4.61333 38.5977 5.52C37.7843 6.37333 36.8777 6.86667 35.8777 7C35.6643 7.58667 35.451 8.12 35.2377 8.6C35.0243 9.08 34.8043 9.52667 34.5777 9.94L35.5577 10.72C35.8777 10.9733 36.191 11.2067 36.4977 11.42C36.8977 11.7133 37.311 11.94 37.7377 12.1C38.1777 12.26 38.631 12.3733 39.0977 12.44C39.1643 12.4533 39.2243 12.46 39.2777 12.46C39.331 12.4733 39.3843 12.48 39.4377 12.48C39.8243 12.48 40.171 12.3667 40.4777 12.14C40.7977 11.8733 40.9577 11.5067 40.9577 11.04C40.9577 10.64 40.7977 10.3 40.4777 10.02C40.1577 9.74 39.7843 9.6 39.3577 9.6C39.0243 9.6 38.7243 9.7 38.4577 9.9L38.3577 9.94C38.331 9.94 38.3177 9.92 38.3177 9.88C38.3177 9.84 38.351 9.78667 38.4177 9.72C38.7377 9.48 39.1377 9.36 39.6177 9.36C40.1777 9.36 40.6443 9.50667 41.0177 9.8C41.431 10.1333 41.6377 10.5467 41.6377 11.04C41.6377 11.64 41.411 12.0933 40.9577 12.4C40.5843 12.6533 40.111 12.78 39.5377 12.78H39.3177ZM35.9777 6.66C36.911 6.43333 37.7177 5.96 38.3977 5.24C39.171 4.42667 39.5577 3.58 39.5577 2.7C39.5577 2.35333 39.511 2.08 39.4177 1.88C39.3377 1.66667 39.2043 1.56 39.0177 1.56C38.6977 1.56 38.2777 1.89333 37.7577 2.56C37.291 3.16 36.971 3.72667 36.7977 4.26L35.9777 6.66ZM31.8777 11.9C32.171 11.9 32.491 11.8067 32.8377 11.62C33.1577 11.4467 33.431 11.2 33.6577 10.88C33.6843 10.8267 33.7177 10.7667 33.7577 10.7C33.811 10.62 33.8643 10.5333 33.9177 10.44C33.5177 10.2267 33.091 10.06 32.6377 9.94C32.571 9.92667 32.4977 9.92 32.4177 9.92C32.351 9.90667 32.2777 9.9 32.1977 9.9C31.8643 9.9 31.5643 9.97333 31.2977 10.12C31.0043 10.2933 30.8577 10.54 30.8577 10.86C30.8577 11.5533 31.1977 11.9 31.8777 11.9ZM45.4347 5.46C45.288 5.46 45.1547 5.40667 45.0347 5.3C44.928 5.18 44.8747 5.04667 44.8747 4.9C44.8747 4.74 44.928 4.60667 45.0347 4.5C45.1547 4.39333 45.288 4.34 45.4347 4.34C45.5947 4.34 45.728 4.39333 45.8347 4.5C45.9414 4.60667 45.9947 4.74 45.9947 4.9C45.9947 5.04667 45.9414 5.18 45.8347 5.3C45.728 5.40667 45.5947 5.46 45.4347 5.46ZM43.9747 11.44C43.9214 11.44 43.8747 11.44 43.8347 11.44C43.7947 11.4267 43.748 11.4133 43.6947 11.4C43.428 11.3467 43.228 11.1867 43.0947 10.92C42.9614 10.64 42.8947 10.2267 42.8947 9.68C42.8947 9.26667 43.028 8.71333 43.2947 8.02C43.428 7.64667 43.5814 7.36667 43.7547 7.18C43.888 7.00667 44.0347 6.92 44.1947 6.92C44.2614 6.92 44.328 6.95333 44.3947 7.02C44.4214 7.04667 44.4347 7.08667 44.4347 7.14C44.4347 7.22 44.408 7.30667 44.3547 7.4L44.1947 7.78C44.168 7.84667 44.1347 7.92 44.0947 8C44.0547 8.08 44.0147 8.17333 43.9747 8.28C43.628 9.08 43.4547 9.67333 43.4547 10.06C43.4547 10.3 43.5147 10.5133 43.6347 10.7C43.7814 10.9 43.9814 11 44.2347 11C44.528 11 44.8414 10.8 45.1747 10.4C45.2814 10.2667 45.3814 10.12 45.4747 9.96C45.568 9.78667 45.648 9.62667 45.7147 9.48C45.7414 9.41333 45.7747 9.38 45.8147 9.38C45.908 9.38 45.9347 9.44667 45.8947 9.58C45.8147 9.76667 45.728 9.95333 45.6347 10.14C45.5547 10.3133 45.4547 10.4733 45.3347 10.62C44.908 11.1667 44.4547 11.44 43.9747 11.44ZM47.4081 13C47.3148 13 47.2148 12.96 47.1081 12.88C47.0015 12.8 46.9215 12.6733 46.8681 12.5C46.6948 11.8333 46.5415 11.08 46.4081 10.24C46.2748 9.38667 46.2081 8.56 46.2081 7.76C46.2081 7.49333 46.2148 7.24 46.2281 7C46.2415 6.74667 46.2681 6.51333 46.3081 6.3C46.2015 6.31333 46.0948 6.37333 45.9881 6.48C45.9348 6.53333 45.8815 6.58667 45.8281 6.64C45.7748 6.68 45.7215 6.72 45.6681 6.76C45.4948 6.90667 45.3615 7.00667 45.2681 7.06C45.1881 7.12667 45.1148 7.11333 45.0481 7.02C45.0081 6.98 44.9881 6.92667 44.9881 6.86C44.9881 6.66 45.1081 6.47333 45.3481 6.3C45.4948 6.18 45.6748 6.08 45.8881 6C45.9948 5.96 46.0881 5.92667 46.1681 5.9C46.2481 5.86 46.3148 5.82667 46.3681 5.8C46.4881 5.34667 46.6348 4.94 46.8081 4.58C46.9815 4.20667 47.1815 3.88667 47.4081 3.62C47.9415 2.94 48.6148 2.56 49.4281 2.48C49.4548 2.46667 49.5281 2.46 49.6481 2.46C50.4081 2.46 50.8681 2.81333 51.0281 3.52C51.0415 3.58667 51.0481 3.64667 51.0481 3.7C51.0615 3.74 51.0681 3.77333 51.0681 3.8C51.0681 4.10667 50.9548 4.39333 50.7281 4.66C50.4748 4.94 50.1681 5.08 49.8081 5.08C49.7415 5.08 49.6681 5.07333 49.5881 5.06C49.5081 5.04667 49.4348 5.02 49.3681 4.98C49.2615 4.92667 49.1748 4.85333 49.1081 4.76C49.1081 4.74667 49.1015 4.74 49.0881 4.74C49.0881 4.72667 49.0881 4.71333 49.0881 4.7C49.0881 4.63333 49.1215 4.58667 49.1881 4.56C49.2548 4.53333 49.3081 4.53333 49.3481 4.56C49.5081 4.68 49.6681 4.74 49.8281 4.74C50.0415 4.74 50.2148 4.65333 50.3481 4.48C50.4948 4.30667 50.5681 4.09333 50.5681 3.84C50.5681 3.74667 50.5615 3.68667 50.5481 3.66C50.4148 3.16667 50.1148 2.92 49.6481 2.92H49.5481C49.5215 2.93333 49.4815 2.94 49.4281 2.94C48.8815 3.02 48.3748 3.36 47.9081 3.96C47.7081 4.22667 47.5215 4.5 47.3481 4.78C47.1881 5.06 47.0748 5.37333 47.0081 5.72C47.1015 5.72 47.2348 5.72667 47.4081 5.74C47.5815 5.74 47.7215 5.75333 47.8281 5.78C48.0281 5.83333 48.2215 5.92667 48.4081 6.06C48.6081 6.19333 48.7081 6.38 48.7081 6.62C48.7081 6.75333 48.6681 6.88 48.5881 7C48.5215 7.10667 48.4615 7.17333 48.4081 7.2C48.3815 7.22667 48.3481 7.24 48.3081 7.24C48.2548 7.24 48.2148 7.21333 48.1881 7.16C48.1748 7.09333 48.2015 7.04 48.2681 7L48.3481 6.86C48.3881 6.79333 48.4081 6.73333 48.4081 6.68C48.4081 6.54667 48.3148 6.43333 48.1281 6.34C47.9415 6.23333 47.7281 6.15333 47.4881 6.1C47.2615 6.04667 47.0748 6.03333 46.9281 6.06C46.8748 6.23333 46.8348 6.46667 46.8081 6.76C46.7815 7.05333 46.7681 7.36667 46.7681 7.7C46.7681 8.11333 46.7815 8.52667 46.8081 8.94C46.8481 9.34 46.8881 9.64667 46.9281 9.86C47.0881 10.8333 47.3148 11.6133 47.6081 12.2C47.6881 12.36 47.7281 12.4933 47.7281 12.6C47.7281 12.8667 47.6215 13 47.4081 13ZM50.9442 12.08C50.2509 12.08 49.7176 11.8467 49.3442 11.38C48.9842 10.9 48.8042 10.3067 48.8042 9.6C48.8042 8.77333 49.0176 8.08667 49.4442 7.54C49.7509 7.11333 50.1509 6.82 50.6442 6.66C50.7642 6.63333 50.8709 6.61333 50.9642 6.6C51.0709 6.57333 51.1709 6.56 51.2642 6.56C51.6242 6.56 51.8976 6.66 52.0842 6.86C52.2842 7.04667 52.3842 7.28 52.3842 7.56C52.3842 7.89333 52.2442 8.23333 51.9642 8.58C51.8309 8.74 51.6509 8.86667 51.4242 8.96C51.1976 9.04 50.9709 9.08 50.7442 9.08C50.5309 9.08 50.3242 9.03333 50.1242 8.94C49.9242 8.84667 49.7709 8.70667 49.6642 8.52C49.5842 8.65333 49.5309 8.80667 49.5042 8.98C49.4776 9.14 49.4642 9.33333 49.4642 9.56C49.4642 10.1067 49.5842 10.6 49.8242 11.04C50.0642 11.48 50.4709 11.7 51.0442 11.7C51.5376 11.7 51.9176 11.5533 52.1842 11.26C52.4509 10.9533 52.5842 10.6667 52.5842 10.4C52.5842 10.1867 52.5042 10.04 52.3442 9.96C52.2776 9.92 52.2442 9.87333 52.2442 9.82C52.2442 9.74 52.2842 9.7 52.3642 9.7C52.4976 9.7 52.6176 9.77333 52.7242 9.92C52.8442 10.0533 52.9042 10.2267 52.9042 10.44C52.9042 10.9733 52.7042 11.38 52.3042 11.66C51.9042 11.94 51.4509 12.08 50.9442 12.08ZM50.7842 8.64C50.9309 8.64 51.0776 8.62 51.2242 8.58C51.3842 8.52667 51.5109 8.44 51.6042 8.32C51.7909 8.09333 51.8842 7.86 51.8842 7.62C51.8842 7.43333 51.8376 7.28 51.7442 7.16C51.6509 7.04 51.5109 6.98 51.3242 6.98H51.2042C50.8576 6.98 50.5776 7.08667 50.3642 7.3C50.1242 7.5 49.9509 7.76 49.8442 8.08C49.8442 8.24 49.9376 8.37333 50.1242 8.48C50.3242 8.58667 50.5442 8.64 50.7842 8.64Z"
                    fill="#0D4D13"
                  />
                </svg>
              </a>
            </Link>
            <nav
              aria-label="primary"
              tabIndex={-1}
              className={`${
                toggle ? '' : 'hidden'
              } absolute top-full right-0 z-100 lg:static p-3 lg:p-0 lg:bg-white bg-green-900`}
            >
              <ul
                className="flex flex-col lg:flex-row gap-5 text-white lg:text-green-900"
                role="list"
              >
                <li className="m-3">
                  <Link href="/categories/plants">
                    <a>plants</a>
                  </Link>
                </li>
                <li className="m-3">
                  <Link href="/categories/plant-care">
                    <a>tools</a>
                  </Link>
                </li>
                <li className="m-3">
                  <Link href="/guides">
                    <a>guides</a>
                  </Link>
                </li>
              </ul>
            </nav>
            <div className="flex justify-end items-center">
              <button
                aria-label="Open search"
                className="flex items-center justify-start p-3 lg:px-5 h-10 w-fit lg:w-72 focus:outline-none rounded-full border border-green-900"
                title="Open search"
                type="button"
                onClick={openSearch}
              >
                <div className="flex-0 h-10 py-1">
                  <svg
                    viewBox="0 0 20 20"
                    fill="currentColor"
                    className="h-full py-2 text-green-900"
                  >
                    <path d="M19.71,18.29,16,14.61A9,9,0,1,0,14.61,16l3.68,3.68a1,1,0,0,0,1.42,0A1,1,0,0,0,19.71,18.29ZM2,9a7,7,0,1,1,12,4.93h0s0,0,0,0A7,7,0,0,1,2,9Z"></path>
                  </svg>
                </div>
                <div className="hidden lg:block">
                  <div className="hidden sm:block mx-5">Search the....</div>
                </div>
              </button>
              <div>
                {matches && (
                  <Autocomplete handleClose={closeSearch} ref={dialog} />
                )}
              </div>
              <Link href="/cart">
                <a className="relative ml-6" aria-label="">
                  <span
                    className="absolute -top-2.5 -right-2.5 text-xsm rounded-full bg-green-900 w-6 h-6 text-white grid place-items-center ring-4 ring-white"
                    aria-hidden="true"
                  >
                    {total_unique_items}
                  </span>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    xmlnsXlink="http://www.w3.org/1999/xlink"
                    version="1.1"
                    x={0}
                    y={0}
                    viewBox="0 0 1000 1000"
                    enable-background="new 0 0 1000 1000"
                    xmlSpace="preserve"
                    width={30}
                    height={30}
                    focusable={false}
                    aria-hidden={true}
                    className="fill-[#065F46]"
                  >
                    <g>
                      <g transform="translate(0.000000,511.000000) scale(0.100000,-0.100000)">
                        <path d="M4831.3,4315.6c-566.3-74-1067.8-564-1271.2-1245.8c-32.4-108.6-64.7-242.7-74-300.5c-6.9-57.8-18.5-131.7-25.4-166.4l-11.6-64.7l-1426.1-4.6c-1590.2-6.9-1463.1,4.6-1703.4-175.7C197.1,2267.7,100,2110.6,100,2006.5c0-92.5,1544-5893.9,1585.6-5956.3c18.5-32.3,85.5-80.9,143.3-106.3l108.6-50.8h3074.1h3074.1l108.6,50.8c57.8,25.4,117.9,71.6,134.1,99.4c39.3,74,1571.7,5889.2,1571.7,5967.8c0,161.8-159.5,349-399.9,469.2l-117.9,57.8H7967.7H6550.9l-13.9,110.9c-69.3,520-300.5,996.2-635.6,1305.9C5584.8,4246.2,5231.1,4366.4,4831.3,4315.6z M5194.2,3936.5c279.7-46.2,605.5-325.9,772-658.7c90.1-182.6,168.7-443.8,198.8-651.8l11.6-87.8H5000H3823.5l11.6,87.8c99.4,711.9,517.7,1245.8,1033.2,1322.1C4988.4,3966.5,5023.1,3964.2,5194.2,3936.5z M3853.6,1754.6c60.1-62.4,71.7-90.1,71.7-187.2c0-99.4-11.6-124.8-76.3-189.5c-64.7-64.7-90.1-76.3-189.5-76.3c-99.4,0-124.8,11.6-189.5,76.3c-64.7,64.7-76.3,90.2-76.3,187.2c0,120.2,57.8,212.6,161.8,258.9C3640.9,1860.9,3777.3,1830.9,3853.6,1754.6z M6534.7,1754.6c60.1-62.4,71.6-90.1,71.6-187.2c0-99.4-11.6-124.8-76.3-189.5c-64.7-64.7-90.2-76.3-189.5-76.3c-99.4,0-124.8,11.6-189.5,76.3c-64.7,64.7-76.3,90.2-76.3,187.2c0,120.2,57.8,212.6,161.8,258.9C6322.1,1860.9,6458.4,1830.9,6534.7,1754.6z" />
                      </g>
                    </g>
                  </svg>
                </a>
              </Link>
              <div className="flex justify-end items-center lg:hidden">
                <button
                  type="button"
                  onClick={() => setToggle((x) => !x)}
                  aria-label="Toggle menu"
                >
                  <a className="relative ml-6" aria-label="">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width={30}
                      height={30}
                      fill="currentColor"
                      viewBox="0 0 16 16"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"
                      />
                    </svg>
                  </a>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
  );
}
